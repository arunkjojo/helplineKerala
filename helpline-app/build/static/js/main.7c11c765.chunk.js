(this["webpackJsonphelpline-app"]=this["webpackJsonphelpline-app"]||[]).push([[0],{114:function(e,t,a){},116:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(14),o=a.n(c),i=(a(86),a(87),a(8)),r=a(9),l=a(12),d=a(11),h=a(19),u=a(17),p=a(22),j=a(27),m=a(7),b=a.n(m),f=a(18),O=a.n(f),x=a(16),v=a.n(x),g=new(function(){function e(){Object(i.a)(this,e),this.user={},this.authenticated=!1}return Object(r.a)(e,[{key:"register",value:function(e){var t=this;return O.a.post("//api.helplinekerala.com/register.php",e).then((function(e){return v.a.set("user",e.data.user,{expires:7}),e})).catch((function(e){throw t.authenticated=!1,e}))}},{key:"login",value:function(e){var t=this;return O.a.post("//api.helplinekerala.com/login.php",e).then((function(e){return v.a.set("user",e.data.user,{expires:7}),e})).catch((function(e){throw t.authenticated=!1,e}))}},{key:"forgotPassword",value:function(e){var t=this;return O.a.post("//api.helplinekerala.com/forgot_password.php",e).then((function(e){return v.a.set("user",e.data.user,{expires:7}),e})).catch((function(e){throw t.authenticated=!1,e}))}},{key:"logout",value:function(){v.a.remove("user"),this.authenticated=!1}},{key:"isAuth",value:function(){return v.a.get("user")&&(this.user=JSON.parse(v.a.get("user")),this.authenticated=!0),this.authenticated}},{key:"localBody",value:function(e){return O.a.post("//api.helplinekerala.com/localbody.php",{did:e}).then((function(e){return e})).catch((function(e){throw e}))}}]),e}()),y=a(142),N=a(153),w=a(146),k=a(149),_=a(147),S=a(148),C=a(1),P=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).inputSet=function(e){e.target.value&&e.target.name&&s.setState(Object(p.a)({},e.target.name,e.target.value))},s.handleClickShowPassword=function(){s.setState({showPassword:!s.state.showPassword})},s.handleMouseDownPassword=function(e){e.preventDefault()},s.loginForm=function(e){e.preventDefault();var t={mobile:s.state.mobileNumber,password:s.state.password};t.mobile&&t.password&&(t.password.length<8&&b.a.warning("Password must be minimum 8 characters","Invalid Password Details"),t.password.length>16&&b.a.warning("Password must be maximum 16 characters","Invalid Password Details"),10!==t.mobile.length&&b.a.warning("Please enter correct mobile number","Invalid Mobile Details"),t.password.length>7&&t.password.length<17&&10===t.mobile.length&&(navigator.onLine?g.login(t).then((function(e){g.isAuth()&&s.props.history.push("/app")})).catch((function(e){b.a.error("The provided credentials are invalid, Please try again or Signup","Invalid Details")})):b.a.warning("No Internet Connection, Login is not support, Please Check Your Internet Connection","Application is Offline Mode")))},g.isAuth()&&s.props.history.push("/app"),s.state={mobileNumber:"",password:"",showPassword:!1},s.loginForm=s.loginForm.bind(Object(j.a)(s)),s}return Object(r.a)(a,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:"container",children:[Object(C.jsxs)("form",{className:"form-group",children:[Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"mobile",children:"Mobile Number"}),Object(C.jsx)(y.a,{type:"text",pattern:"[0-9]*",onKeyPress:function(e){/[0-9]/.test(e.key)||(b.a.error("Only numbers are allowed","Invalid Mobile"),e.preventDefault())},autoFocus:!0,onChange:this.inputSet,className:"form-control",id:"mobile",name:"mobileNumber"})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"pass",children:"Password"}),Object(C.jsx)(y.a,{type:this.state.showPassword?"text":"password",endAdornment:Object(C.jsx)(N.a,{position:"end",children:Object(C.jsx)(w.a,{onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword,children:this.state.showPassword?Object(C.jsx)(_.a,{}):Object(C.jsx)(S.a,{})})}),onChange:this.inputSet,className:"form-control",id:"pass",name:"password"})]}),Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)(k.a,{variant:"contained",color:"primary",onClick:this.loginForm,className:"form-control btn btn-success",children:"Login"})})]}),Object(C.jsx)("div",{className:"container",children:Object(C.jsx)(h.b,{to:"./forgotpassword",children:"Forgot Password"})})]})}}]),a}(s.Component),F=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).inputSet=function(e){e.target.value&&e.target.name&&s.setState(Object(p.a)({},e.target.name,e.target.value)),console.log(s.state)},s.handleClickShowPassword=function(){s.setState({showPassword:!s.state.showPassword})},s.handleMouseDownPassword=function(e){e.preventDefault()},s.forgotForm=function(e){e.preventDefault();var t={mobile:s.state.mobileNumber,password:s.state.password};t.mobile&&t.password&&(t.password.length<8&&b.a.warning("Password must be minimum 8 characters","Invalid Password Details"),t.password.length>16&&b.a.warning("Password must be maximum 16 characters","Invalid Password Details"),10!==t.mobile.length&&b.a.warning("Please enter correct mobile number","Invalid Mobile Details"),t.password.length>7&&t.password.length<17&&10===t.mobile.length&&(navigator.onLine?g.forgotPassword(t).then((function(e){console.log(e.data.user),g.isAuth()&&s.props.history.push("/app")})).catch((function(e){b.a.error("The provided credentials are invalid, Please try again or Signup","Invalid Details")})):b.a.warning("No Internet Connection, Reset Password is not support, Please Check Your Internet Connection","Application is Offline Mode")))},g.isAuth()&&s.props.history.push("/app"),s.state={mobileNumber:"",password:"",showPassword:!1},s.forgotForm=s.forgotForm.bind(Object(j.a)(s)),s}return Object(r.a)(a,[{key:"render",value:function(){return Object(C.jsxs)("div",{className:"container",children:[Object(C.jsxs)("form",{className:"form-group",children:[Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"mobile",children:"Mobile Number"}),Object(C.jsx)(y.a,{type:"text",pattern:"[0-9]*",onKeyPress:function(e){/[0-9]/.test(e.key)||(b.a.error("Only numbers are allowed","Invalid Mobile"),e.preventDefault())},autoFocus:!0,onChange:this.inputSet,className:"form-control",id:"mobile",name:"mobileNumber"})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"pass",children:"New Password"}),Object(C.jsx)(y.a,{type:this.state.showPassword?"text":"password",endAdornment:Object(C.jsx)(N.a,{position:"end",children:Object(C.jsx)(w.a,{onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword,children:this.state.showPassword?Object(C.jsx)(_.a,{}):Object(C.jsx)(S.a,{})})}),onChange:this.inputSet,className:"form-control",id:"pass",name:"password"})]}),Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)(k.a,{variant:"contained",color:"secondary",onClick:this.forgotForm,className:"form-control btn btn-success",children:"Reset Password"})})]}),Object(C.jsx)("div",{className:"container",children:Object(C.jsx)(h.b,{to:"./login",children:"Login"})})]})}}]),a}(s.Component),D=a(150),M=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).inputSet=function(e){s.setState(Object(p.a)({},e.target.name,e.target.value))},s.handleClickShowPassword=function(){s.setState({showPassword:!s.state.showPassword})},s.handleMouseDownPassword=function(e){e.preventDefault()},s.localbodySet=function(e){s.setState(Object(p.a)({},e.target.name,e.target.value)),s.setState({localbody:""});var t=e.target.value;g.localBody(t).then((function(e){s.setState({localbodies:e.data})})).catch((function(e){}))},s.registerForm=function(e){e.preventDefault();var t={user:s.state.userName,mobile:s.state.mobileNumber,usrtype:s.state.userType,password:s.state.password,dist:s.state.district,localbody:s.state.localbody,area:s.state.area,blood:s.state.blood};t.user&&t.mobile&&t.password&&t.usrtype&&t.dist&&t.localbody&&t.area&&t.blood?(t.user.length<2&&b.a.warning("Name must be enter","Enter Your Name"),10!==t.mobile.length&&b.a.warning("Enter Valid Mobile number","Invalid Mobile Details"),t.usrtype.length<1&&b.a.warning("User type must be select","Enter User Type"),t.password.length<8&&b.a.warning("Password must be minimum 8 characters","Invalid password"),t.password.length>16&&b.a.warning("Password must be maximum 16 characters","Invalid password"),0===t.dist.length&&b.a.warning("Your district must be select","Select Your District"),0===t.localbody.length&&b.a.warning("Your local body must be select","Select Your Local Body"),t.area.length<1&&b.a.warning("Your area must be enter","Enter Your Area"),0===t.blood.length&&b.a.warning("Your blood group must be select","Select Your Blood Group"),t.user.length>0&&t.usrtype.length>0&&t.dist.length>0&&t.localbody.length>0&&t.area.length>1&&t.blood.length>0&&t.password.length>=8&&t.password.length<=16&&10===t.mobile.length&&(navigator.onLine?g.register(t).then((function(e){g.isAuth()&&s.props.history.push("/app/")})).catch((function(e){b.a.error("The provided credentials are already exist, Please try Login","Already Exist"),console.error(e)})):b.a.warning("No Internet Connection, Register is not support, Please Check Your Internet Connection","Application is Offline Mode"))):b.a.error("Please enter the full details","Enter Details")},s.state={userName:"",mobileNumber:"",userType:"",password:"",district:"",localbody:"",area:"",blood:"",showPassword:!1,localbodies:[]},s.registerForm=s.registerForm.bind(Object(j.a)(s)),g.isAuth()&&s.props.history.push("/app/"),s}return Object(r.a)(a,[{key:"render",value:function(){var e=this.state.localbodies.length>0&&this.state.localbodies.map((function(e,t){return Object(C.jsx)("option",{value:"".concat(e.id),children:e.name},t)}));return Object(C.jsxs)("div",{className:"container",children:[Object(C.jsxs)("form",{className:"form-group",noValidate:!0,children:[Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"username",children:"Name"}),Object(C.jsx)(y.a,{type:"text",autoFocus:!0,value:this.state.userName,onChange:this.inputSet,className:"form-control",id:"username",name:"userName",placeholder:"Enter your Name",required:!0})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"mobile",children:"Mobile Number"}),Object(C.jsx)(y.a,{type:"text",pattern:"[0-9]*",onKeyPress:function(e){/[0-9]/.test(e.key)||(b.a.warning("Only numbers are allowed","Invalid Mobile"),e.preventDefault())},onChange:this.inputSet,className:"form-control",id:"mobile",name:"mobileNumber",placeholder:"Enter your Mobile number",required:!0,noValidate:!0})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"pass",children:"Password"}),Object(C.jsx)(y.a,{type:this.state.showPassword?"text":"password",endAdornment:Object(C.jsx)(N.a,{position:"end",children:Object(C.jsx)(w.a,{onClick:this.handleClickShowPassword,onMouseDown:this.handleMouseDownPassword,children:this.state.showPassword?Object(C.jsx)(_.a,{}):Object(C.jsx)(S.a,{})})}),onChange:this.inputSet,className:"form-control",placeholder:"Enter Password",required:!0,noValidate:!0,id:"pass",name:"password"})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"user_type",children:"Account Type"}),Object(C.jsxs)(D.a,{onChange:this.inputSet,className:"form-control",id:"user_type",name:"userType",required:!0,noValidate:!0,children:[Object(C.jsx)("option",{selected:!0,disabled:!0,children:"Choose your Account Type"}),Object(C.jsx)("option",{value:"Common Citizen",children:"Common Citizen"}),Object(C.jsx)("option",{value:"Police",children:"Police"}),Object(C.jsx)("option",{value:"Fire Force",children:"Fire Force"}),Object(C.jsx)("option",{value:"Rapid Force",children:"Rapid Force"}),Object(C.jsx)("option",{value:"Government Authority",children:"Government Authority"}),Object(C.jsx)("option",{value:"Medical Related",children:"Medical Related"}),Object(C.jsx)("option",{value:"Finance Related",children:"Finance Related"})]})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"district",children:"Your District"}),Object(C.jsxs)(D.a,{onChange:this.localbodySet,className:"form-control",id:"district",name:"district",required:!0,noValidate:!0,children:[Object(C.jsx)("option",{selected:!0,disabled:!0,children:"Select Your District"}),Object(C.jsx)("option",{value:"1",children:"Thiruvananthapuram"}),Object(C.jsx)("option",{value:"2",children:"Kollam"}),Object(C.jsx)("option",{value:"3",children:"Alappuzha"}),Object(C.jsx)("option",{value:"4",children:"Pathanamthitta"}),Object(C.jsx)("option",{value:"5",children:"Kottayam"}),Object(C.jsx)("option",{value:"6",children:"Idukki"}),Object(C.jsx)("option",{value:"7",children:"Ernakulam"}),Object(C.jsx)("option",{value:"8",children:"Thrissur"}),Object(C.jsx)("option",{value:"9",children:"Palakkad"}),Object(C.jsx)("option",{value:"10",children:"Malappuram"}),Object(C.jsx)("option",{value:"11",children:"Kozhikode"}),Object(C.jsx)("option",{value:"12",children:"Wayanad"}),Object(C.jsx)("option",{value:"13",children:"Kannur"}),Object(C.jsx)("option",{value:"14",children:"Kasaragod"})]})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"localbody",children:"Choose localbody"}),Object(C.jsxs)(D.a,{onChange:this.inputSet,className:"form-control",id:"localbody",name:"localbody",required:!0,noValidate:!0,children:[Object(C.jsx)("option",{selected:!0,disabled:!0,children:"Select your localbody"}),e]})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"area",children:"Your Location"}),Object(C.jsx)(y.a,{type:"text",onChange:this.inputSet,className:"form-control",id:"area",name:"area",placeholder:"Enter your Location",required:!0,noValidate:!0})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"blood",children:"Your Blood Group"}),Object(C.jsxs)(D.a,{onChange:this.inputSet,className:"form-control",id:"blood",name:"blood",required:!0,noValidate:!0,children:[Object(C.jsx)("option",{selected:!0,disabled:!0,children:"Select Your Blood Group"}),Object(C.jsx)("option",{value:"A+",children:"A+"}),Object(C.jsx)("option",{value:"A-",children:"A-"}),Object(C.jsx)("option",{value:"B+",children:"B+"}),Object(C.jsx)("option",{value:"B-",children:"B-"}),Object(C.jsx)("option",{value:"AB+",children:"AB+"}),Object(C.jsx)("option",{value:"AB-",children:"AB-"}),Object(C.jsx)("option",{value:"O+",children:"O+"}),Object(C.jsx)("option",{value:"O-",children:"O-"})]})]}),Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)(k.a,{variant:"contained",color:"secondary",onClick:this.registerForm,className:"form-control btn btn-success",children:"Register"})})]}),Object(C.jsx)("div",{className:"container",children:Object(C.jsx)(h.b,{to:"./login",children:"I am already register in this application, Login"})})]})}}]),a}(s.Component),A=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("div",{className:"container py-5",id:"hanging-icons",children:[Object(C.jsx)("h1",{children:"Helpline Kerala - An attempt to help the needy"}),Object(C.jsx)("p",{className:"lead",children:"Every one have a compassionate heart, Helpline Kerala tries to find a solution with the help of technology to create a platform which connects the needy, their needs, campaigns for a cause to like minded people who are near to them. We expect people like you can create more impact than technology."}),Object(C.jsx)("p",{className:"lead",children:Object(C.jsx)("a",{href:"/app",className:"btn btn-lg btn-secondary fw-bold border-white bg-white",children:"So, Join with us"})})]}),Object(C.jsxs)("div",{className:"container py-5",id:"hanging-icons",children:[Object(C.jsx)("h2",{className:"pb-2 border-bottom",children:"Behind this project"}),Object(C.jsxs)("div",{className:"row g-5 py-5",children:[Object(C.jsxs)("div",{className:"col-md-6 align-items-start",children:[Object(C.jsx)("h2",{children:"Technology Stack"}),Object(C.jsx)("p",{children:"This project is developed with latest enterprise technologies and system design in mind. We have developed the front end of this application in React.JS, We have APIs developed in PHP and store data in MySQL. Mobile centric design achieved using twitter bootstrap libraries."})]}),Object(C.jsxs)("div",{className:"col-md-6 align-items-start",children:[Object(C.jsx)("h2",{children:"About Team"}),Object(C.jsx)("p",{children:"Paragraph of text beneath the heading to explain the heading. We'll add onto it with another sentence and probably just keep going until we run out of words."})]})]})]})]})}}]),a}(n.a.Component),V=(a(114),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){document.getElementById("body").className="public"}},{key:"componentWillUnmount",value:function(){document.getElementById("body").className=""}},{key:"render",value:function(){return Object(C.jsx)("div",{className:"d-flex h-100 text-center text-white bg-blue",children:Object(C.jsxs)("div",{className:"cover-container d-flex w-100 h-100 p-3 mx-auto flex-column",children:[Object(C.jsx)("header",{className:"mb-auto",children:Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{className:"float-md-start mb-0",children:"Helpline Kerala"}),Object(C.jsxs)("nav",{className:"nav nav-masthead justify-content-center float-md-end",children:[Object(C.jsx)(h.b,{className:"nav-link active",to:"/public",children:"Home"}),Object(C.jsx)(h.b,{className:"nav-link",to:"/public/login",children:"Login"}),Object(C.jsx)(h.b,{className:"nav-link",to:"/public/register",children:"Register"})]})]})}),Object(C.jsx)("main",{className:"px-3",children:Object(C.jsxs)(u.d,{children:[Object(C.jsx)(u.b,{path:"/public/",exact:!0,component:A}),Object(C.jsx)(u.b,{path:"/public/login",component:P}),Object(C.jsx)(u.b,{path:"/public/forgotpassword",component:F}),Object(C.jsx)(u.b,{path:"/public/register",component:M})]})}),Object(C.jsxs)("footer",{className:"mt-auto text-white-50",children:[Object(C.jsxs)("p",{children:["Project work done at ",Object(C.jsx)("b",{className:"text-white",children:"IHRD Manjeswar"}),", by "]}),Object(C.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.facebook.com/arun.jojo.k/",className:"text-white",children:"@arun"}),",",Object(C.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.facebook.com/profile.php?id=100007847565695",className:"text-white",children:"@ravikiran"}),",",Object(C.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.facebook.com/prajinapraji.achamthuruthi/",className:"text-white",children:"@prajina"})]})]})})}}]),a}(n.a.Component)),Y=a(31),I=a.n(Y),B=a(152),R=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={location:[]},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;return O.a.get("https://us1.locationiq.com/v1/reverse.php",{params:{key:"pk.a776d8f9b82ca120d21cbbe7f9444bbe",lat:this.props.lat,lon:this.props.lon,format:"json"}}).then((function(t){e.setState({location:t.data.address})})).catch((function(e){}))}},{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:this.state.location.county})}}]),a}(n.a.Component),z=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={posts:[]},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=v.a.getJSON("user");return O.a.get("//api.helplinekerala.com/get_posts.php",{params:{user_id:t.id}}).then((function(t){e.setState({posts:t.data}),localStorage.setItem("postCollection",JSON.stringify(t.data))})).catch((function(e){if(!navigator.onLine){var t=localStorage.getItem("postCollection");this.setState({posts:JSON.parse(t)})}}))}},{key:"render",value:function(){var e=this.state.posts.map((function(e,t){return Object(C.jsx)("div",{className:"col-sm-6 col-lg-4 mb-4",children:Object(C.jsxs)("div",{className:"card",children:[e.image_video?Object(C.jsx)(B.a,{width:"100%",height:"auto",className:"img-fluid",src:e.path}):"",Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("p",{className:"card-text",children:e.message}),Object(C.jsx)("p",{className:"card-text",children:Object(C.jsxs)("small",{children:["Created At ",I()(e.post_date+" "+e.post_time,"DD-MM-YYYY hh:mm:ss a").fromNow()]})}),Object(C.jsxs)("p",{className:"card-text",children:[Object(C.jsxs)("small",{style:{float:"left"},children:["Views:",e.view_list]}),Object(C.jsx)("i",{style:{float:"right"},children:e.verified_user})]})]}),Object(C.jsxs)("div",{className:"border-top d-flex card-footer",children:[Object(C.jsx)("div",{className:"card-post__author d-flex",children:Object(C.jsxs)("div",{className:"d-flex flex-column justify-content-center ml-3",children:[Object(C.jsx)("span",{className:"card-post__author-name",children:e.user_name}),Object(C.jsx)("small",{children:e.post_date})]})}),Object(C.jsxs)("div",{className:"my-auto ml-auto",children:[Object(C.jsx)("i",{className:"far fa-bookmark mr-1"}),Object(C.jsx)(R,{lat:e.latitude,lon:e.longitude})]})]})]})},t)}));return Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("div",{className:"row","data-masonry":'{"percentPosition": true }',children:e})})}}]),a}(n.a.Component),L=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).assetsSelect=function(e){s.setState({assets:e.target.files[0],type:e.target.files[0].type.split("/")[0],fileType:e.target.files[0].type.split("/")[1]})},s.inputSet=function(e){s.setState(Object(p.a)({},e.target.name,e.target.value))},s.inputCheckBox=function(e){var t=e.target.name,a="checkbox"===e.target.type?e.target.checked:e.target.value;if("all"===t&&!0===a)s.setState({all:!0,police:!0,fire_force:!0,rapid_force:!0,medical:!0,finance:!0,gov_authority:!0,common_citizen:!0});else if("all"===t&&!1===a)s.setState({all:!1,police:!1,fire_force:!1,rapid_force:!1,medical:!1,finance:!1,gov_authority:!1,common_citizen:!1});else if(s.setState(Object(p.a)({},t,a)),"police"!==t&&"fire_force"!==t&&"rapid_force"!==t&&"medical"!==t&&"finance"!==t&&"gov_authority"!==t&&"common_citizen"!==t||!1!==a)switch(t){case"police":!0===a&&!0===(s.state.fire_force&&s.state.rapid_force&&s.state.medical&&s.state.finance&&s.state.gov_authority&&s.state.common_citizen)&&s.setState({all:!0});break;case"fire_force":!0===a&&!0===(s.state.police&&s.state.rapid_force&&s.state.medical&&s.state.finance&&s.state.gov_authority&&s.state.common_citizen)&&s.setState({all:!0});break;case"rapid_force":!0===a&&!0===(s.state.fire_force&&s.state.police&&s.state.medical&&s.state.gov_authority&&s.state.finance&&s.state.common_citizen)&&s.setState({all:!0});break;case"finance":!0===a&&!0===(s.state.fire_force&&s.state.rapid_force&&s.state.police&&s.state.medical&&s.state.gov_authority&&s.state.common_citizen)&&s.setState({all:!0});break;case"medical":!0===a&&!0===(s.state.fire_force&&s.state.rapid_force&&s.state.police&&s.state.finance&&s.state.gov_authority&&s.state.common_citizen)&&s.setState({all:!0});break;case"gov_authority":!0===a&&!0===(s.state.fire_force&&s.state.rapid_force&&s.state.medical&&s.state.finance&&s.state.police&&s.state.common_citizen)&&s.setState({all:!0});break;case"common_citizen":!0===a&&!0===(s.state.fire_force&&s.state.rapid_force&&s.state.medical&&s.state.finance&&s.state.gov_authority&&s.state.police)&&s.setState({all:!0});break;default:!0===(s.state.police&&s.state.fire_force&&s.state.rapid_force&&s.state.medical&&s.state.finance&&s.state.gov_authority&&s.state.common_citizen)&&s.setState({all:!0})}else s.setState({all:!1})},s.onSubmit=function(e){e.preventDefault(),""!==s.state.latitudeValue||""!==s.state.longitudeValue?s.uploadData():b.a.error("Location Not Found")},s.uploadData=function(){var e=new FormData;e.append("user_id",s.user.id),e.append("assets",s.state.assets),e.append("type",s.state.type),e.append("fileType",s.state.fileType),e.append("message",s.state.message),e.append("latitudeValue",s.state.latitudeValue),e.append("longitudeValue",s.state.longitudeValue),e.append("allUser",s.state.all),e.append("commonCitizen",s.state.common_citizen),e.append("police",s.state.police),e.append("fireForce",s.state.fire_force),e.append("rapidForce",s.state.rapid_force),e.append("medicalRelated",s.state.medical),e.append("financeRelated",s.state.finance),e.append("govAuthority",s.state.gov_authority),O.a.post("//api.helplinekerala.com/add_post.php",e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){e.data.status&&window.location.replace("../app")}))},s.state={message:"",type:"",assets:"",fileType:"",all:"",police:"",fire_force:"",rapid_force:"",medical:"",finance:"",gov_authority:"",common_citizen:"",latitudeValue:"",longitudeValue:""},s.user=JSON.parse(v.a.get("user")),s.uploadData=s.uploadData.bind(Object(j.a)(s)),s.onSubmit=s.onSubmit.bind(Object(j.a)(s)),s}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){var a=t.coords.latitude,s=t.coords.longitude;e.setState({latitudeValue:a,longitudeValue:s})})),"geolocation"in navigator?b.a.success("Location are available"):b.a.primary("Location not available")}},{key:"render",value:function(){return Object(C.jsx)("div",{className:"container",children:Object(C.jsxs)("form",{className:"form-group",onSubmit:this.onSubmit,children:[Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"message",children:"Enter your message"}),Object(C.jsx)("br",{}),Object(C.jsx)("textarea",{cols:"110",onChange:this.inputSet,className:"form-control",placeholder:"Type your message",id:"message",autoFocus:!0,autoComplete:!0,name:"message"})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"assets",children:"Image"}),Object(C.jsx)("br",{}),Object(C.jsx)("input",{type:"file",accept:"image/*,audio/*,video/*",ref:"inputFile",onChange:this.assetsSelect,id:"assets",name:"assets"})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"viewList",children:"Who can see this post"}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{id:"viewList",className:"form-group",children:[Object(C.jsxs)("label",{htmlFor:"all",children:[Object(C.jsx)("input",{type:"checkbox",checked:this.state.all,onClick:this.inputCheckBox,placeholder:"All",id:"all",value:"All",name:"all"}),"All"]}),Object(C.jsx)("br",{}),Object(C.jsxs)("label",{htmlFor:"police",children:[Object(C.jsx)("input",{type:"checkbox",checked:this.state.police,onClick:this.inputCheckBox,placeholder:"Police",id:"police",value:"Police",name:"police"}),"Police"]}),Object(C.jsx)("br",{}),Object(C.jsxs)("label",{htmlFor:"fire_force",children:[Object(C.jsx)("input",{type:"checkbox",checked:this.state.fire_force,onClick:this.inputCheckBox,placeholder:"Fire force",id:"fire_force",value:"Fire force",name:"fire_force"}),"Fire force"]}),Object(C.jsx)("br",{}),Object(C.jsxs)("label",{htmlFor:"rapid_force",children:[Object(C.jsx)("input",{type:"checkbox",checked:this.state.rapid_force,onClick:this.inputCheckBox,placeholder:"Rapid force",id:"rapid_force",value:"Rapid force",name:"rapid_force"}),"Rapid force"]}),Object(C.jsx)("br",{}),Object(C.jsxs)("label",{htmlFor:"medical",children:[Object(C.jsx)("input",{type:"checkbox",checked:this.state.medical,onClick:this.inputCheckBox,placeholder:"Medical",id:"medical",value:"Medical Related",name:"medical"}),"Medical Related"]}),Object(C.jsx)("br",{}),Object(C.jsxs)("label",{htmlFor:"medical",children:[Object(C.jsx)("input",{type:"checkbox",checked:this.state.finance,onClick:this.inputCheckBox,placeholder:"Finance",id:"finance",value:"Finance Related",name:"finance"}),"Finance Related"]}),Object(C.jsx)("br",{}),Object(C.jsxs)("label",{htmlFor:"gov_authority",children:[Object(C.jsx)("input",{type:"checkbox",checked:this.state.gov_authority,onClick:this.inputCheckBox,placeholder:"Government Authority",id:"gov_authority",value:"Government Authority",name:"gov_authority"}),"Government Authority"]}),Object(C.jsx)("br",{}),Object(C.jsxs)("label",{htmlFor:"common_citizen",children:[Object(C.jsx)("input",{type:"checkbox",checked:this.state.common_citizen,onClick:this.inputCheckBox,placeholder:"Common Citizen",id:"common_citizen",value:"Common Citizen",name:"common_citizen"}),"Common Citizen"]})]})]}),Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)("button",{onClick:this.addPost,className:"form-control btn btn-success",children:"Post"})})]})})}}]),a}(n.a.Component),T=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),s=t.call(this,e),g.logout(),window.location.replace("../public"),s}return Object(r.a)(a,[{key:"render",value:function(){return null}}]),a}(s.Component),E=a(151),q=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).inputSet=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.approveForm=function(t){var a={user_id:v.a.getJSON("user").id,verify:e.state.verify,id:e.state.post_id,actions:e.state.actions};return t.preventDefault(),O.a.post("//api.helplinekerala.com/verify_post.php",a).then((function(e){e.data.status&&window.location.replace("../app")})).catch((function(e){console.log(e)}))},e.state={posts:[],verify:0,actions:"verify",post_id:""},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=v.a.getJSON("user");return O.a.get("//api.helplinekerala.com/pending_post.php",{params:{user_id:t.id}}).then((function(t){e.setState({posts:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.posts.map((function(t,a){return Object(C.jsx)("div",{className:"col-sm-6 col-lg-4 mb-4",children:Object(C.jsxs)("div",{className:"card",children:[t.image_video?Object(C.jsx)(B.a,{className:"img-fluid",src:t.path}):"",Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsxs)("span",{style:{float:"left"},children:[Object(C.jsx)("p",{className:"card-text",children:t.message}),Object(C.jsx)("p",{className:"card-text",children:Object(C.jsxs)("small",{className:"text-muted",children:["Created At ",I()(t.post_date+" "+t.post_time,"DD-MM-YYYY hh:mm:ss a").fromNow()]})}),Object(C.jsx)("p",{className:"card-text",children:Object(C.jsxs)("small",{className:"text-muted",children:["Views:",t.view_list]})})]}),Object(C.jsx)("span",{children:Object(C.jsxs)("form",{className:"form-group",noValidate:!0,children:[Object(C.jsxs)("select",{placeholder:"Select Status",onChange:e.inputSet,className:"form-control",id:"verify",name:"verify",required:!0,noValidate:!0,children:[Object(C.jsx)("option",{selected:!0,disabled:!0,children:"Select Status"}),Object(C.jsx)("option",{value:"0",children:"Pending"}),Object(C.jsx)("option",{value:"1",children:"Verified"}),Object(C.jsx)("option",{value:"2",children:"Rejected"})]}),Object(C.jsx)(E.a,{type:"checkbox",onClick:e.inputSet,id:"post_id",value:t.id,name:"post_id",required:!0}),"Confirm",Object(C.jsx)(k.a,{className:"form-control",variant:"contained",color:"primary",onClick:e.approveForm,children:"Verify"})]})})]}),Object(C.jsxs)("div",{className:"border-top d-flex card-footer",children:[Object(C.jsx)("div",{className:"card-post__author d-flex",children:Object(C.jsxs)("div",{className:"d-flex flex-column justify-content-center ml-3",children:[Object(C.jsx)("span",{className:"card-post__author-name",children:t.user_name}),Object(C.jsx)("small",{className:"text-muted",children:t.post_date})]})}),Object(C.jsx)("div",{className:"my-auto ml-auto",children:Object(C.jsxs)("button",{className:"btn btn-white btn-sm",children:[Object(C.jsx)("i",{className:"far fa-bookmark mr-1"})," ",t.latitude," ",t.longitude]})})]})]})},a)}));return Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("div",{className:"row","data-masonry":'{"percentPosition": true }',children:t})})}}]),a}(n.a.Component),J=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).inputSet=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.approveForm=function(t){var a={user_id:v.a.getJSON("user").id,verify:e.state.verify,id:e.state.post_id,actions:e.state.actions};return t.preventDefault(),O.a.post("//api.helplinekerala.com/verify_post.php",a).then((function(e){e.data.status&&window.location.replace("../app")})).catch((function(e){console.log(e)}))},e.state={posts:[],verify:0,actions:"verify",post_id:""},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=v.a.getJSON("user");return O.a.get("//api.helplinekerala.com/rejected_post.php",{params:{user_id:t.id,actions:"pending"}}).then((function(t){e.setState({posts:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.posts.map((function(t,a){return Object(C.jsx)("div",{className:"col-sm-6 col-lg-4 mb-4",children:Object(C.jsxs)("div",{className:"card",children:[t.image_video?Object(C.jsx)(B.a,{className:"img-fluid",src:t.path}):"",Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsxs)("span",{style:{float:"left"},children:[Object(C.jsx)("p",{className:"card-text",children:t.message}),Object(C.jsx)("p",{className:"card-text",children:Object(C.jsxs)("small",{className:"text-muted",children:["Created At ",I()(t.post_date+" "+t.post_time,"DD-MM-YYYY hh:mm:ss a").fromNow()]})}),Object(C.jsx)("p",{className:"card-text",children:Object(C.jsxs)("small",{className:"text-muted",children:["Views:",t.view_list]})})]}),Object(C.jsx)("span",{children:Object(C.jsxs)("form",{className:"form-group",noValidate:!0,children:[Object(C.jsxs)("select",{placeholder:"Select Status",onChange:e.inputSet,className:"form-control",id:"verify",name:"verify",required:!0,noValidate:!0,children:[Object(C.jsx)("option",{selected:!0,disabled:!0,children:"Select Status"}),Object(C.jsx)("option",{value:"2",children:"Rejected"}),Object(C.jsx)("option",{value:"0",children:"Pending"}),Object(C.jsx)("option",{value:"1",children:"Verified"})]}),Object(C.jsx)(E.a,{type:"checkbox",onClick:e.inputSet,id:"post_id",value:t.id,name:"post_id",required:!0}),"Confirm",Object(C.jsx)(k.a,{className:"form-control",variant:"contained",color:"primary",onClick:e.approveForm,children:"Verify"})]})})]}),Object(C.jsxs)("div",{className:"border-top d-flex card-footer",children:[Object(C.jsx)("div",{className:"card-post__author d-flex",children:Object(C.jsxs)("div",{className:"d-flex flex-column justify-content-center ml-3",children:[Object(C.jsx)("span",{className:"card-post__author-name",children:t.user_name}),Object(C.jsx)("small",{className:"text-muted",children:t.post_date})]})}),Object(C.jsx)("div",{className:"my-auto ml-auto",children:Object(C.jsxs)("button",{className:"btn btn-white btn-sm",children:[Object(C.jsx)("i",{className:"far fa-bookmark mr-1"})," ",t.latitude," ",t.longitude]})})]})]})},a)}));return Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("div",{className:"row","data-masonry":'{"percentPosition": true }',children:t})})}}]),a}(n.a.Component),K=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).inputSet=function(t){e.setState(Object(p.a)({},t.target.name,t.target.value))},e.approveForm=function(t){var a={user_id:v.a.getJSON("user").id,verify:e.state.verify,id:e.state.post_id,actions:e.state.actions};return t.preventDefault(),O.a.post("//api.helplinekerala.com/verify_post.php",a).then((function(e){e.data.status&&window.location.replace("../app")})).catch((function(e){console.log(e)}))},e.state={posts:[],verify:0,actions:"verify",post_id:""},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=v.a.getJSON("user");return O.a.get("//api.helplinekerala.com/get_posts.php",{params:{user_id:t.id}}).then((function(t){e.setState({posts:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.posts.map((function(t,a){return Object(C.jsx)("div",{className:"col-sm-6 col-lg-4 mb-4",children:Object(C.jsxs)("div",{className:"card",children:[t.image_video?Object(C.jsx)(B.a,{className:"img-fluid",src:t.path}):"",Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsxs)("span",{style:{float:"left"},children:[Object(C.jsx)("p",{className:"card-text",children:t.message}),Object(C.jsx)("p",{className:"card-text",children:Object(C.jsxs)("small",{className:"text-muted",children:["Created At ",I()(t.post_date+" "+t.post_time,"DD-MM-YYYY hh:mm:ss a").fromNow()]})}),Object(C.jsx)("p",{className:"card-text",children:Object(C.jsxs)("small",{className:"text-muted",children:["Views:",t.view_list]})})]}),Object(C.jsx)("span",{children:Object(C.jsxs)("form",{className:"form-group",noValidate:!0,children:[Object(C.jsxs)("select",{onChange:e.inputSet,className:"form-control",id:"verify",name:"verify",required:!0,noValidate:!0,children:[Object(C.jsx)("option",{selected:!0,disabled:!0,children:"Select Status"}),Object(C.jsx)("option",{value:"1",children:"Verified"}),Object(C.jsx)("option",{value:"0",children:"Pending"}),Object(C.jsx)("option",{value:"2",children:"Rejected"})]}),Object(C.jsx)(E.a,{type:"checkbox",onClick:e.inputSet,id:"post_id",value:t.id,name:"post_id",required:!0}),"Confirm",Object(C.jsx)(k.a,{className:"form-control",variant:"contained",color:"primary",onClick:e.approveForm,children:"Verify"})]})})]}),Object(C.jsxs)("div",{className:"border-top d-flex card-footer",children:[Object(C.jsx)("div",{className:"card-post__author d-flex",children:Object(C.jsxs)("div",{className:"d-flex flex-column justify-content-center ml-3",children:[Object(C.jsx)("span",{className:"card-post__author-name",children:t.user_name}),Object(C.jsx)("small",{className:"text-muted",children:t.post_date})]})}),Object(C.jsx)("div",{className:"my-auto ml-auto",children:Object(C.jsxs)("button",{className:"btn btn-white btn-sm",children:[Object(C.jsx)("i",{className:"far fa-bookmark mr-1"})," ",t.latitude," ",t.longitude]})})]})]})},a)}));return Object(C.jsx)("div",{className:"container",children:Object(C.jsx)("div",{className:"row","data-masonry":'{"percentPosition": true }',children:t})})}}]),a}(n.a.Component),G=a(59),W=a(74);var H=function(e){var t=e.component,a=Object(W.a)(e,["component"]);return Object(C.jsx)(u.b,Object(G.a)(Object(G.a)({},a),{},{render:function(e){return g.isAuth()?Object(C.jsx)(t,{}):Object(C.jsx)(u.a,{to:{pathname:"/public/login",state:{form:e.location}}})}}))},U=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={privilage:"",mode:"online"},s}return Object(r.a)(a,[{key:"componentDidMount",value:function(){switch(navigator.onLine||this.setState({mode:"offline"}),document.getElementById("body").className="private",JSON.parse(v.a.get("user")).type){case"Police":case"Fire Force":case"Government Authority":this.setState({privilage:"true"});break;default:this.setState({privilage:"false"})}}},{key:"componentWillUnmount",value:function(){document.getElementById("body").className=""}},{key:"render",value:function(){return Object(C.jsxs)("div",{children:[Object(C.jsx)("header",{children:Object(C.jsx)("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark",children:Object(C.jsxs)("div",{className:"container-fluid",children:[Object(C.jsx)("h6",{style:{color:"white"},className:"nav-link active",children:"Helpline Kerala"}),Object(C.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(C.jsx)("span",{className:"navbar-toggler-icon"})}),Object(C.jsx)("div",{className:"collapse navbar-collapse",id:"navbarCollapse",children:Object(C.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-md-0",children:[Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(h.b,{className:"nav-link active",to:"/app",children:"Home"})}),Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(h.b,{className:"nav-link",to:"/app/create",children:"Add New Request"})}),"true"===this.state.privilage?Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(h.b,{className:"nav-link",to:"/app/verify",children:"Pending Verify"})}):"","true"===this.state.privilage?Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(h.b,{className:"nav-link",to:"/app/accepted",children:"Verified Post"})}):"","true"===this.state.privilage?Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(h.b,{className:"nav-link",to:"/app/rejected",children:"Rejected Post"})}):"",Object(C.jsx)("li",{className:"nav-item",children:Object(C.jsx)(h.b,{className:"nav-link",to:"/app/logout",children:"Logout"})})]})})]})})}),Object(C.jsx)("main",{className:"px-3 mt-menu",children:Object(C.jsxs)(u.d,{children:[Object(C.jsx)(H,{path:"/app",exact:!0,component:z}),"true"===this.state.privilage?Object(C.jsx)(H,{path:"/app/verify",component:q}):"","true"===this.state.privilage?Object(C.jsx)(H,{path:"/app/accepted",component:K}):"","true"===this.state.privilage?Object(C.jsx)(H,{path:"/app/rejected",component:J}):"",Object(C.jsx)(H,{path:"/app/create",component:L}),Object(C.jsx)(H,{path:"/app/logout",component:T})]})}),"offline"===this.state.mode?Object(C.jsx)("div",{children:"Application is Offline Mode"}):null]})}}]),a}(n.a.Component),Q=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return Object(C.jsx)(h.a,{children:Object(C.jsxs)(u.d,{children:[Object(C.jsx)(u.b,{path:"/public",children:!g.isAuth()&&Object(C.jsx)(V,{})}),Object(C.jsx)(H,{path:"/app",children:Object(C.jsx)(U,{})}),Object(C.jsx)(u.b,{exact:!0,path:"/",children:g.isAuth()?Object(C.jsx)(u.a,{to:"/app"}):Object(C.jsx)(u.a,{to:"/public"})})]})})}}]),a}(n.a.Component);o.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(Q,{})}),document.getElementById("root")),function(){var e="".concat("","/sw.js");navigator.serviceWorker.register(e).then((function(e){})).catch((function(e){}))}()},87:function(e,t,a){}},[[116,1,2]]]);
//# sourceMappingURL=main.7c11c765.chunk.js.map